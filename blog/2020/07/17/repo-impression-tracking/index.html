<!DOCTYPE html><html lang="en" data-astro-cid-bvzihdzo> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v4.4.4"><!-- Font preloads --><link rel="preload" href="/fonts/atkinson-regular.woff" as="font" type="font/woff" crossorigin><link rel="preload" href="/fonts/atkinson-bold.woff" as="font" type="font/woff" crossorigin><!-- Canonical URL --><link rel="canonical" href="https://mya.sh/blog/2020/07/17/repo-impression-tracking/"><!-- Primary Meta Tags --><title>Tracking impressions on repositories</title><meta name="title" content="Tracking impressions on repositories"><meta name="description" content=""><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://mya.sh/blog/2020/07/17/repo-impression-tracking/"><meta property="og:title" content="Tracking impressions on repositories"><meta property="og:description" content=""><meta property="og:image" content="https://mya.sh/blog-placeholder-1.jpg"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://mya.sh/blog/2020/07/17/repo-impression-tracking/"><meta property="twitter:title" content="Tracking impressions on repositories"><meta property="twitter:description" content=""><meta property="twitter:image" content="https://mya.sh/blog-placeholder-1.jpg"><link rel="stylesheet" href="/_astro/_slug_.Cy_hegJV.css" />
<style>main[data-astro-cid-bvzihdzo]{width:calc(100% - 2em);max-width:100%;margin:0}.hero-image[data-astro-cid-bvzihdzo]{width:100%}.hero-image[data-astro-cid-bvzihdzo] img[data-astro-cid-bvzihdzo]{display:block;margin:0 auto;border-radius:12px;box-shadow:var(--box-shadow)}.prose[data-astro-cid-bvzihdzo]{width:720px;max-width:calc(100% - 2em);margin:auto;padding:1em;color:var(--color-text)}.title[data-astro-cid-bvzihdzo]{margin-bottom:1em;padding:1em 0;text-align:center;line-height:1}.title[data-astro-cid-bvzihdzo] h1[data-astro-cid-bvzihdzo]{margin:0 0 .5em}.date[data-astro-cid-bvzihdzo]{margin-bottom:.5em;color:var(--color-text)}.last-updated-on[data-astro-cid-bvzihdzo]{font-style:italic}
</style><script type="module">const t=document.querySelector('.theme-switch input[type="checkbox"]'),e=localStorage.getItem("theme");e&&(document.documentElement.setAttribute("data-theme",e),e==="dark"&&(t.checked=!0));function m(c){c.target.checked?(document.documentElement.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark")):(document.documentElement.setAttribute("data-theme","light"),localStorage.setItem("theme","light"))}t.addEventListener("change",m,!1);
</script></head> <body data-astro-cid-bvzihdzo> <header data-astro-cid-3ef6ksr2> <nav data-astro-cid-3ef6ksr2> <div class="theme-switch-wrapper"> <label class="theme-switch" for="checkbox"> <input type="checkbox" id="checkbox"> <div class="slider"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="#FCD53F" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"> <circle cx="12" cy="12" r="5"></circle> <line x1="12" y1="1" x2="12" y2="3"></line> <line x1="12" y1="21" x2="12" y2="23"></line> <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line> <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line> <line x1="1" y1="12" x2="3" y2="12"></line> <line x1="21" y1="12" x2="23" y2="12"></line> <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line> <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line> </svg> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="#FCD53F" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"> <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path> </svg> </div> </label>  </div> <h2 data-astro-cid-3ef6ksr2><a href="/" data-astro-cid-3ef6ksr2>Mya Pitzeruse</a></h2> <div class="internal-links" data-astro-cid-3ef6ksr2> <a href="/" data-astro-cid-3ef6ksr2 data-astro-cid-eimmu3lg> Home </a>  <a href="/blog" data-astro-cid-3ef6ksr2 data-astro-cid-eimmu3lg> Blog </a>  <a href="/charts" data-astro-cid-3ef6ksr2 data-astro-cid-eimmu3lg> Charts </a>  <a href="/media" data-astro-cid-3ef6ksr2 data-astro-cid-eimmu3lg> Media </a>  <a href="/hockey" data-astro-cid-3ef6ksr2 data-astro-cid-eimmu3lg> Hockey </a>  </div> <div class="social-links" data-astro-cid-3ef6ksr2> <a href="https://github.com/mjpitz" target="_blank" data-astro-cid-3ef6ksr2> <span class="sr-only" data-astro-cid-3ef6ksr2>GitHub</span> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" data-astro-cid-3ef6ksr2> <path fill="currentColor" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" data-astro-cid-3ef6ksr2></path> </svg> </a> <a href="https://www.linkedin.com/in/mjpitz/" target="_blank" data-astro-cid-3ef6ksr2> <span class="sr-only" data-astro-cid-3ef6ksr2>LinkedIn</span> <svg viewBox="0 0 50 50" aria-hidden="true" width="32" height="32" data-astro-cid-3ef6ksr2> <path fill="currentColor" d="M41,4H9C6.24,4,4,6.24,4,9v32c0,2.76,2.24,5,5,5h32c2.76,0,5-2.24,5-5V9C46,6.24,43.76,4,41,4z M17,20v19h-6V20H17z M11,14.47c0-1.4,1.2-2.47,3-2.47s2.93,1.07,3,2.47c0,1.4-1.12,2.53-3,2.53C12.2,17,11,15.87,11,14.47z M39,39h-6c0,0,0-9.26,0-10 c0-2-1-4-3.5-4.04h-0.08C27,24.96,26,27.02,26,29c0,0.91,0,10,0,10h-6V20h6v2.56c0,0,1.93-2.56,5.81-2.56 c3.97,0,7.19,2.73,7.19,8.26V39z" data-astro-cid-3ef6ksr2></path> </svg> </a> <a href="/rss.xml" target="_blank" data-astro-cid-3ef6ksr2> <span class="sr-only" data-astro-cid-3ef6ksr2>RSS</span> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" data-astro-cid-3ef6ksr2> <path fill="currentColor" d="M1,5v2c1.081,0,2.128,0.211,3.113,0.628c0.952,0.403,1.808,0.98,2.543,1.715s1.312,1.591,1.715,2.543 C8.789,12.872,9,13.919,9,15h2C11,9.477,6.523,5,1,5z M4,10c-1.105,0-2,0.895-2,2s0.895,2,2,2s2-0.895,2-2S5.105,10,4,10z M1,1v2 c1.621,0,3.192,0.317,4.67,0.942c1.429,0.604,2.712,1.47,3.815,2.573c1.103,1.103,1.968,2.386,2.573,3.815 C12.683,11.808,13,13.379,13,15h2C15,7.268,8.732,1,1,1z" data-astro-cid-3ef6ksr2></path> </svg> </a> </div> </nav> </header>  <main data-astro-cid-bvzihdzo> <article data-astro-cid-bvzihdzo> <div class="hero-image" data-astro-cid-bvzihdzo> <img width="1020" height="510" src="/img/blog-placeholder-4.jpg" alt="" data-astro-cid-bvzihdzo> </div> <div class="prose" data-astro-cid-bvzihdzo> <div class="title" data-astro-cid-bvzihdzo> <div class="date" data-astro-cid-bvzihdzo> <time datetime="2020-07-17T00:00:00.000Z"> Jul 17, 2020 </time>  </div> <h1 data-astro-cid-bvzihdzo>Tracking impressions on repositories</h1> <hr data-astro-cid-bvzihdzo> </div>  <p>When working on open source projects, I often wonder how to improve the experience for my users.
In order to improve my users experience, I first need to be able to measure and monitor it.
On a website, I have Google Analytics which can help me understand my users paths through my site.
This capability isn’t as accessible on <a href="https://github.com">GitHub</a> or <a href="https://gitlab.com">GitLab</a> as it requires JavaScript execution.
In this post, I will demonstrate how you can set up <a href="https://analytics.google.com">Google Analytics</a> to track impressions on GitHub repositories.</p>
<!--more-->
<p>Google Analytics implements a <a href="https://www.quora.com/How-does-a-tracking-pixel-work">tracking pixel</a>.
This allows it’s users to track their consumers behavior across their site.
For browsers, this often requires a JavaScript snippet.
This approach however, breaks down when you start to talk about markdown content on GitHub.</p>
<p>Fortunately, Google Analytics supports an image ping approach.
While less common in browsers, this approach is frequently used in emails.
Using markdown images, we can leverage the image ping to embed a tracking pixel into <code>README.md</code> files.</p>
<h2 id="set-up-a-google-analytics-property">Set up a Google Analytics property</h2>
<p>The first step in this process is to set up a new property for GitHub.
Google Analytics offers both web and app support.
You only need web support.
When creating the property, you will be prompted for the base URL for your site.
Enter the GitHub URL including your organization or user.</p>
<p><img src="/img/2020-impression-ga-property.png" alt="Create Property"></p>
<p>By using this prefix, you can use the same tracking key across all your projects.
From there, complete the remainder of the form appropriately.
Once created, you’ll be given a tracking key.
These keys tend to follow the form <code>UA-xxx-y</code>.
Save this as it will be used to generate the pixel we will be embedding in our repository.</p>
<h2 id="generate-an-image-ping-url-for-your-project">Generate an image ping URL for your project</h2>
<p>Once you obtain a tracking key, you’re able to generate embed pixels for your repositories.
Google’s image ping URL can get rather long.
To help format the URI, I leveraged a little bit of JavaScript.
With the built in <code>querystring</code> library, the work went rather quickly.
Below, you can see a copy of the JavaScript I used to generate my image.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> qs</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> require</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'querystring'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">async</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> key</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> process.argv[</span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">];    </span><span style="color:#6A737D">// your tracking key (e.g UA-xxx-y)</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> path</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> process.argv[</span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">];   </span><span style="color:#6A737D">// your repositoriy  (e.g mjpitz/go-gracefully)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> query</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> qs.</span><span style="color:#B392F0">stringify</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">    v: </span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">,                         </span><span style="color:#6A737D">// version</span></span>
<span class="line"><span style="color:#E1E4E8">    cid: </span><span style="color:#79B8FF">555</span><span style="color:#E1E4E8">,                     </span><span style="color:#6A737D">// client id</span></span>
<span class="line"><span style="color:#E1E4E8">    t: </span><span style="color:#9ECBFF">'pageview'</span><span style="color:#E1E4E8">,                </span><span style="color:#6A737D">// the type</span></span>
<span class="line"><span style="color:#E1E4E8">    ec: </span><span style="color:#9ECBFF">'repo'</span><span style="color:#E1E4E8">,                   </span><span style="color:#6A737D">// the category</span></span>
<span class="line"><span style="color:#E1E4E8">    ea: </span><span style="color:#9ECBFF">'open'</span><span style="color:#E1E4E8">,                   </span><span style="color:#6A737D">// the action</span></span>
<span class="line"><span style="color:#E1E4E8">    dp: path,                     </span><span style="color:#6A737D">// document path</span></span>
<span class="line"><span style="color:#E1E4E8">    dt: path,                     </span><span style="color:#6A737D">// document title</span></span>
<span class="line"><span style="color:#E1E4E8">    tid: key,                     </span><span style="color:#6A737D">// tracking key</span></span>
<span class="line"><span style="color:#E1E4E8">  })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`![Google Analytics](https://www.google-analytics.com/collect?${</span><span style="color:#E1E4E8">query</span><span style="color:#9ECBFF">})`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">main</span><span style="color:#E1E4E8">().</span><span style="color:#B392F0">catch</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">e</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(e));</span></span></code></pre>
<p>This script expects two arguments: your tracking key (<code>US-xxx-y</code>) and a path (<code>mjpitz/go-gracefully</code>).
When run, this script will output a markdown image that you can paste into your projects README.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#B392F0">$</span><span style="color:#9ECBFF"> node</span><span style="color:#9ECBFF"> repo-ga-beacon.js</span><span style="color:#9ECBFF"> UA-xxx-y</span><span style="color:#9ECBFF"> mjpitz/go-gracefully</span></span>
<span class="line"><span style="color:#F97583">!</span><span style="color:#E1E4E8">[Google Analytics](</span><span style="color:#B392F0">https://www.google-analytics.com/collect?v</span><span style="color:#E1E4E8">=1&#x26;cid</span><span style="color:#F97583">=</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">&#x26;t</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">pageview</span><span style="color:#E1E4E8">&#x26;ec</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">repo</span><span style="color:#E1E4E8">&#x26;ea</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">open</span><span style="color:#E1E4E8">&#x26;dp</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">mjpitz%2Fgo-gracefully</span><span style="color:#E1E4E8">&#x26;dt</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">mjpitz%2Fgo-gracefully</span><span style="color:#E1E4E8">&#x26;tid</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">UA-xxx-y</span><span style="color:#E1E4E8">)</span></span></code></pre>
<p>You can repeat this process for any project you want to be included in your report.
For my project <a href="https://deps.cloud">deps.cloud</a>, this is valuable as we can see which repositories are hit the most.
Using this information, we can better redirect our clients to pages where they can find more information.</p>
<h2 id="why-should-you-do-this">Why should you do this?</h2>
<p>There are many reasons you should do this.
For one, it helps understand if there is an issue with your content or the discovery of it.
Instead of wondering whether a project has the reach you intended it to, you can refer to the number of visitors.</p>
<p><img src="/img/2020-impression-funnel.png" alt=""></p>
<p>In marketing, impressions, clicks, and conversions are used to determine the success of a given advertisement.
Similarly, we can use this technique to track the success of an open source project.
Most (popular) projects are already using some kind of heuristic to measure success of their projects.
Number of issues created, stars, watches, forks, follows, etc.
While these metrics are great, they represent conversions not impressions.
With an added image ping you can now track conversion rates.
That is the percentage of visitors that visit your projects, and take an action.</p>
<hr>
<p>Thank you for joining me in this series!
Be sure to check out the other parts.</p>
<ul>
<li><a href="/blog/2020/07/17/repo-impression-tracking/">Part 1 - Set Up</a></li>
<li><a href="/blog/2020/07/27/repo-impressions-2/">Part 2 - Follow Up</a></li>
<li><a href="/blog/2020/08/02/repo-impressions-3/">Part 3 - Conclusion</a></li>
</ul>  </div> </article> </main> <footer data-astro-cid-sz7xmlte>
&copy; 2024&nbsp;Mya Pitzeruse. All rights reserved.
<div class="social-links" data-astro-cid-sz7xmlte> <a href="https://github.com/mjpitz" target="_blank" data-astro-cid-sz7xmlte> <span class="sr-only" data-astro-cid-sz7xmlte>GitHub</span> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" data-astro-cid-sz7xmlte> <path fill="currentColor" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" data-astro-cid-sz7xmlte></path> </svg> </a> <a href="https://www.linkedin.com/in/mjpitz/" target="_blank" data-astro-cid-sz7xmlte> <span class="sr-only" data-astro-cid-sz7xmlte>LinkedIn</span> <svg viewBox="0 0 50 50" aria-hidden="true" width="32" height="32" data-astro-cid-sz7xmlte> <path fill="currentColor" d="M41,4H9C6.24,4,4,6.24,4,9v32c0,2.76,2.24,5,5,5h32c2.76,0,5-2.24,5-5V9C46,6.24,43.76,4,41,4z M17,20v19h-6V20H17z M11,14.47c0-1.4,1.2-2.47,3-2.47s2.93,1.07,3,2.47c0,1.4-1.12,2.53-3,2.53C12.2,17,11,15.87,11,14.47z M39,39h-6c0,0,0-9.26,0-10 c0-2-1-4-3.5-4.04h-0.08C27,24.96,26,27.02,26,29c0,0.91,0,10,0,10h-6V20h6v2.56c0,0,1.93-2.56,5.81-2.56 c3.97,0,7.19,2.73,7.19,8.26V39z" data-astro-cid-sz7xmlte></path> </svg> </a> <a href="/rss.xml" target="_blank" data-astro-cid-sz7xmlte> <span class="sr-only" data-astro-cid-sz7xmlte>RSS</span> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" data-astro-cid-sz7xmlte> <path fill="currentColor" d="M1,5v2c1.081,0,2.128,0.211,3.113,0.628c0.952,0.403,1.808,0.98,2.543,1.715s1.312,1.591,1.715,2.543 C8.789,12.872,9,13.919,9,15h2C11,9.477,6.523,5,1,5z M4,10c-1.105,0-2,0.895-2,2s0.895,2,2,2s2-0.895,2-2S5.105,10,4,10z M1,1v2 c1.621,0,3.192,0.317,4.67,0.942c1.429,0.604,2.712,1.47,3.815,2.573c1.103,1.103,1.968,2.386,2.573,3.815 C12.683,11.808,13,13.379,13,15h2C15,7.268,8.732,1,1,1z" data-astro-cid-sz7xmlte></path> </svg> </a> </div> </footer>  </body></html>